<!-- Components/Shared/AuthGuard.razor -->
@inject UserService UserService
@inject NavigationManager Navigation

@if (UserService.IsLoggedIn)
{
    @ChildContent
}
else
{
    <!-- Show loading or redirect -->
}

@code {
    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    protected override void OnInitialized()
    {
        if (!UserService.IsLoggedIn)
        {
            Navigation.NavigateTo(
                "/login",
                forceLoad: true
            );
        }
    }
}
